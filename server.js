const express = require('express');
const axios = require('axios');
const app = express();

const groupId = '34739953'; // Replace with your Roblox group ID
const apiKey = '982B5D179BE0A5DBA8B9368D1326CF821D743D991E5D68C952AA6CE9C8062E5BA4431544A715D3A534047F52B4C80DCFED763D03E8EBEB50A26F3AB361145BB7A1FCD455A257E4A0DA1A7B22ACB5F611503470C6F0ACB71AF25D3C466610FA42A10CCE5EEEC87451D7297DDB17C360AB76C6E6921BCD53BF44CCC9983812AA7738EF7FF830E601670B30A89B6CD82C2DF3FAB835BB42E5996B5FF5F3BA9E9034FE664AA90C3EDC1524481BBA93FF4865AEED6EC1578D2DFFB246D403B6D378C949FAC9261AE6F8529AC533789E58DB4DA936E151F342A85FDA35E47D8EF6B649B35A794422BD47EBE1AB8F25DAC03A42CDFA06F45F08F9B4E852B181EBEC45E1E39A046F20BAA7E732C107753E2D4E1525BAA1FA9042E2DE605604A68B74D54EE94B0F23DFDE2ABDE53FF6C3C9E7A290DB33097B5641984B4341376CE0EFAAC1D8C8DADE39D326A86498E09F391E122BCEF3FB2C7DA0090BAC43D8FB47E7A42D8DA15CCC12B20E7D85693C65BDE911970E9DEEAD2B61F73CBE5DDBAF7FC93BBD887B7E940573C0855BE703CEC9CB8A3C586D95E47F0A8D284B94632A342BF350D8CD109B2490D701D2F19A0C3DB3FDDC7EBC5615BF2E4A94BB81CF69575F504DAE6757BF0B7A66601ED7CAA2B8FA6A84C32693EFAE0FD3E3597C498905D6A98F50702AF37E53CD45D13157C3D1E6B925DE993A248EE82BEB06BEB5CB2267FF92659A15C70070494002238902AF822215C6F5D8A910799E3428C20D154D63BE2DB2632F92D845449556B4988AA9B3C2DD2A9B9F736CD7A4619375DE97EE82FE51101F5FDD939115F81AF80D68A278259356D3E2463A7D452690407697395377DEDA408ED28F40085B31A695D333CE1B2AC4D97CE5A75D6F525F497592E49E9C5A6234C534925FC720ED899315BF23B4E347552C8C07662EB921F9521370FFB27EF983411E0C19DB32DBD758FE743D36063FE441696BDF9C9021EAA9FE8F5BA7ED9E10020C1BDCC5AD382D525BAB08962FB696088EDD1D29BD911A7F9B1C98C789C6A3ADBFF8D931F987E9141230269476DB57B7A5EEA1FB91543CFD9AF021FB9DDA3A7D20725C64FC526A428DF7E80C4DD00B5CB6F5B4757375E4778C14B772FB234A8E80890145E94A012622858E8763949F3E74
'; // Replace with your Roblox API key

app.use(express.json());

// API to handle rank changes
app.post('/set-rank', async (req, res) => {
    const { userId, rankId } = req.body;

    try {
        const response = await axios.post(
            `https://groups.roblox.com/v1/groups/${groupId}/users/${userId}/rank`,
            {
                roleId: rankId
            },
            {
                headers: {
                    Authorization: `Bearer ${apiKey}`
                }
            }
        );
        res.json({ message: 'Rank changed successfully!' });
    } catch (error) {
        console.error(error);
        res.status(500).json({ error: 'Failed to change rank' });
    }
});

app.listen(3000, () => {
    console.log('Server is running on port 3000');
});
